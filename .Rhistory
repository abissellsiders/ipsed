#####
# init
#####
package_name = "ipsed"
root_wd = paste0("C:/Users/", Sys.info()["effective_user"], "/google_drive/research/_packages")
package_wd = paste0(root_wd, "/", package_name)
raw_wd = paste0(package_wd, "/data-raw")
r_wd = paste0(package_wd, "/R")
#####
# read raw data
#####
setwd(raw_wd)
countries = data.table::fread("countries.csv", encoding = "UTF-8")
#####
# generate datasets
#####
require(data.table)
files = list.files(raw_wd, full.names=TRUE, pattern="\\.r")
sapply(files, source)
maddison = get_maddison()
polity = get_polity()
wgi = get_wgi()
fipsed = get_fipsed(maddison, polity, wgi)
#####
# add data
#####
setwd(package_wd)
usethis::use_data(countries, maddison, polity, wgi, fipsed, overwrite = TRUE)
#####
# document
#####
setwd(package_wd)
devtools::document()
#####
# install
#####
setwd(root_wd)
devtools::install(package_name)
#####
# datasets to add to international
#####
# https://www.rug.nl/ggdc/productivity/pwt/
# https://www.comparativeagendas.net/datasets_codebooks
# https://cran.r-project.org/web/packages/politicaldata/politicaldata.pdf
#
# https://github.com/datasets/corruption-perceptions-index
#
# kuznets historical data
# https://www.theatlantic.com/business/archive/2012/04/the-rise-and-fall-and-rise-literally-of-the-most-important-curve-in-economics/256530/
#
# http://www.cgeh.nl/
#
# http://asdfree.com/demographic-and-health-surveys-dhs.html
#
# datafiles world_jewish_population
#
# food & agriculture organization
#
# international_social_survey_programme
#
# https://trygg.nsd.uib.no/macrodataguide/index.html
#
# religiosity index -- in factsheet
#
# https://guides.lib.umich.edu/c.php?g=282769&p=1884138
#
# https://qog.pol.gu.se/data
#
# https://guides.library.umass.edu/c.php?g=672403&p=4735644
#
# Scrape: https://cran.r-project.org/web/packages/poliscidata/index.html
#
# correlates of war
#
# https://dataverse.harvard.edu/dataset.xhtml?persistentId=doi:10.7910/DVN/4JQRCL
#
# World Bank Development Indicators
# https://www.v-dem.net/en/data/data-version-10/
# MoxLad: https://www.lac.ox.ac.uk/research-projects/moxlad-database
#####
# polity
#####
#
# polity4_dt[, N := .N, by = c("year")]
# summary_dt = polity4_dt[, .(prop = mean(.N/N)), by = c("year", "status")]
# summary_dt = polity4_dt[, .(prop = mean(.N/N)), by = c("year", "status")]
# polity4_dt[polity %in% -10:10, status := "standard polity"]
# polity4_dt[polity == -66, status := "foreign occupation/intervention"]
# polity4_dt[polity == -77, status := "anarchy/interregnum"]
# polity4_dt[polity == -88, status := "transition"]
# polity4_dt[, status := factor(status)]
# polity4_dt[, N := .N, by = c("year")]
# ggplot(summary_dt, aes(x = year, y = prop, fill = status, group = status, position = "fill")) +
#   geom_area() +
#   theme_minimal() +
#   coord_cartesian(expand = FALSE) +
#   theme(axis.text.x = element_text(vjust = 0.5, hjust = 0.5, angle = 90)) +
#   labs(y = "proportion of polities revolting")
?fipsed
?ipsed
require(ipsed)
?maddison
?polity
?ipsed
?ipesd
?data.table-package
?ipsed-package.r
?"ipsed-packge.r"
?"ipsed-package.r"
#####
# init
#####
package_name = "ipsed"
root_wd = paste0("C:/Users/", Sys.info()["effective_user"], "/google_drive/research/_packages")
package_wd = paste0(root_wd, "/", package_name)
raw_wd = paste0(package_wd, "/data-raw")
r_wd = paste0(package_wd, "/R")
#####
# read raw data
#####
setwd(raw_wd)
countries = data.table::fread("countries.csv", encoding = "UTF-8")
#####
# generate datasets
#####
require(data.table)
files = list.files(raw_wd, full.names=TRUE, pattern="\\.r")
sapply(files, source)
maddison = get_maddison()
polity = get_polity()
wgi = get_wgi()
fipsed = get_fipsed(maddison, polity, wgi)
#####
# add data
#####
setwd(package_wd)
usethis::use_data(countries, maddison, polity, wgi, fipsed, overwrite = TRUE)
#####
# document
#####
setwd(package_wd)
devtools::document()
